@model IEnumerable<CustomShop.Models.Good>
@using CustomShop.Models;

@{
    ViewBag.Title = "Товари";
}

<center>
    <div class="good-filter-box">
        <h2 class="search-active-text" onclick="viewSearcher(this)">Розширений пошук</h2>
        <form method="get">
            <div>
                <p>Секція:</p>
                <p><b>@ViewBag.Filter</b></p>
                <input value="@ViewBag.Filter" name="filter" hidden />
            </div>
            <div>
                <p>Елементи назви:</p>
                <input name="searchText" value="@ViewBag.SearchText" />
            </div>
            <div>
                <p>Мінімальна ціна:</p>
                <input name="min" type="number" min="0" value="@ViewBag.Min" />
            </div>
            <div>
                <p>Макисмальна ціна:</p>
                <input name="max" type="number" min="0" value="@ViewBag.Max" />
            </div>
            <div>
                <p>Шукати: </p>
                <input type="submit" value="Шукати" class="btn btn-default" />
            </div>
        </form>
    </div>
    <div class="good-grid-box">
        @foreach (Good item in Model)
        {
            <a href="/Goods/Details/@item.Id">
                <div class="good-box">
                    <div class="good-img">
                        @Html.Raw("<img  src=\"data:image/jpeg;base64," + Convert.ToBase64String(item.Image) + "\" />")
                    </div>

                    <div class="info-about-good">
                        <p><b>@item.Name</b></p>
                        <p class="price"><b>@Math.Round(item.Price, 2) ₴</b></p>
                    </div>
                </div>
            </a>
        }

    </div>

</center>

<script>
    function viewSearcher(x) {
        document.querySelector("body .content .good-filter-box form").classList.toggle("active");
    }

</script>